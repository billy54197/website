import{d as B,r as f,u as J,o as O,b as m,c as V,k as I,t as $,e,w as a,h as c,E as _,q as C,P as D,f as r,F as S,g as x,i as g,__tla as G}from"./index-b99f128f.js";import{_ as H,__tla as M}from"./index-ee0ead7c.js";import{a as T,u as R,c as X,__tla as j}from"./shipping-api-635cb86c.js";import{g as K,__tla as W}from"./prd-province-api-091c3475.js";import{q as Y,__tla as ee}from"./billing-api-db3e92fc.js";let Z,le=Promise.all([(()=>{try{return G}catch{}})(),(()=>{try{return M}catch{}})(),(()=>{try{return j}catch{}})(),(()=>{try{return W}catch{}})(),(()=>{try{return ee}catch{}})()]).then(async()=>{let P,w;P={style:{width:"800px",margin:"10px auto","text-align":"center"}},w={style:{"margin-bottom":"30px","text-align":"right"}},Z=B({__name:"shipping-form",setup(ae){const t=f({guid:null,emailAddress:null,shippingName:null,companyName:null,addressLine1:null,addressLine2:null,city:null,stateProvince:null,postalCode:null,cellPhone:null,notes:null,billingId:null,defaultFlag:null}),z=f({shippingName:[{required:!0,message:"Please input name",trigger:"blur"}],emailAddress:[{required:!0,validator:(s,l,d)=>{if(l==="")d(new Error("Please input email address!"));else{let n=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(\.[a-zA-Z0-9_-])+/,o=/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/;!n.test(l)||!o.test(l)?d(new Error("Please enter valid email\uFF01")):d()}},trigger:"blur"}],cellPhone:[{required:!0,validator:(s,l,d)=>{l===""?d(new Error("Please input phone number!")):/^[0-9]{10}$/.test(l)?d():d(new Error("Please enter valid 10-digit phone number (use numbers only)!"))},trigger:"blur"}]}),v=f(),y=f(),E=async()=>{await y.value.validate(async s=>{if(s){let l=await T(t.value);l.ok?(_.success("Successfully submitted."),h()):_.error(l.message)}else console.log("error submit!")})},L=async()=>{await y.value.validate(async s=>{if(s){let l=await R(t.value);l.ok?(_.success("Successfully submitted."),h()):_.error(l.message)}else console.log("error submit!")})},p=J();async function q(s){var l,d;if(((l=p==null?void 0:p.info)==null?void 0:l.userId)!=null&&((d=p==null?void 0:p.info)==null?void 0:d.userId)!=""){t.value.guid=s;let n=await X(s);n.ok?t.value=JSON.parse(JSON.stringify(n.data)):_.error(n.message)}else C.push({name:D.SIGN_IN_PATH})}const N=f([]),A=f([]);O(async()=>{const s=H.parseUrl(window.location.href);s&&s.hashQuery&&s.hashQuery.guid&&s.hashQuery.guid.trim()!=""?(await q(s.hashQuery.guid),v.value="Modify Shipping Information"):v.value="Add Shipping Information",N.value=await K(),A.value=await Y()});function h(){C.go(-1)}return(s,l)=>{const d=r("el-input"),n=r("el-form-item"),o=r("el-col"),i=r("el-row"),U=r("el-option"),k=r("el-select"),F=r("el-checkbox"),Q=r("el-form"),b=r("el-button");return m(),V("div",P,[I("h2",null,$(v.value),1),e(Q,{ref_key:"refForm",ref:y,model:t.value,"label-position":"top",rules:z.value},{default:a(()=>[e(i,{gutter:20},{default:a(()=>[e(o,{span:12},{default:a(()=>[e(n,{label:"Name",prop:"shippingName"},{default:a(()=>[e(d,{modelValue:t.value.shippingName,"onUpdate:modelValue":l[0]||(l[0]=u=>t.value.shippingName=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(n,{label:"Company Name"},{default:a(()=>[e(d,{modelValue:t.value.companyName,"onUpdate:modelValue":l[1]||(l[1]=u=>t.value.companyName=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(o,{span:12},{default:a(()=>[e(n,{label:"Phone",prop:"cellPhone"},{default:a(()=>[e(d,{modelValue:t.value.cellPhone,"onUpdate:modelValue":l[2]||(l[2]=u=>t.value.cellPhone=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(n,{label:"Email",prop:"emailAddress"},{default:a(()=>[e(d,{modelValue:t.value.emailAddress,"onUpdate:modelValue":l[3]||(l[3]=u=>t.value.emailAddress=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(o,{span:12},{default:a(()=>[e(n,{label:"Address"},{default:a(()=>[e(d,{modelValue:t.value.addressLine1,"onUpdate:modelValue":l[4]||(l[4]=u=>t.value.addressLine1=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(n,{label:"Address 2"},{default:a(()=>[e(d,{modelValue:t.value.addressLine2,"onUpdate:modelValue":l[5]||(l[5]=u=>t.value.addressLine2=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(o,{span:12},{default:a(()=>[e(n,{label:"City"},{default:a(()=>[e(d,{modelValue:t.value.city,"onUpdate:modelValue":l[6]||(l[6]=u=>t.value.city=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(n,{label:"State/Province"},{default:a(()=>[e(k,{modelValue:t.value.stateProvince,"onUpdate:modelValue":l[7]||(l[7]=u=>t.value.stateProvince=u),filterable:"",style:{width:"100%"},placeholder:""},{default:a(()=>[(m(!0),V(S,null,x(N.value,u=>(m(),c(U,{key:u.code,label:u.displayName,value:u.code},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(o,{span:12},{default:a(()=>[e(n,{label:"Zip/Postal Code"},{default:a(()=>[e(d,{modelValue:t.value.postalCode,"onUpdate:modelValue":l[8]||(l[8]=u=>t.value.postalCode=u)},null,8,["modelValue"])]),_:1})]),_:1}),e(o,{span:12},{default:a(()=>[e(n,{label:"Billing Information"},{default:a(()=>[e(k,{modelValue:t.value.billingId,"onUpdate:modelValue":l[9]||(l[9]=u=>t.value.billingId=u),filterable:"",style:{width:"100%"},placeholder:" "},{default:a(()=>[(m(!0),V(S,null,x(A.value,u=>(m(),c(U,{key:u.guid,label:u.billingName,value:u.guid},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(o,{span:24},{default:a(()=>[e(n,{label:"Shipping Notes"},{default:a(()=>[e(d,{modelValue:t.value.notes,"onUpdate:modelValue":l[10]||(l[10]=u=>t.value.notes=u),rows:3,type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{gutter:20},{default:a(()=>[e(o,{span:24},{default:a(()=>[e(n,null,{default:a(()=>[e(F,{modelValue:t.value.defaultFlag,"onUpdate:modelValue":l[11]||(l[11]=u=>t.value.defaultFlag=u)},{default:a(()=>[g("Default Use")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"]),I("div",w,[e(b,{onClick:h},{default:a(()=>[g("Back")]),_:1}),t.value.guid&&t.value.guid.trim()!=""?(m(),c(b,{key:0,type:"warning",onClick:L},{default:a(()=>[g(" Update your shipping info ")]),_:1})):(m(),c(b,{key:1,type:"primary",onClick:E},{default:a(()=>[g(" Add to your shipping info ")]),_:1}))])])}}})});export{le as __tla,Z as default};
