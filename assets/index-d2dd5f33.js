import{d as X,r as x,a as Y,A as Z,s as V,u as $,o as ee,J as ae,b as te,c as le,k as a,e as l,w as r,l as se,M as ne,Q as n,R as h,S as _,D as ie,f as v,N as oe,B as de,i as U,E as k,P as I,p as re,j as ce,__tla as pe}from"./index-8cd0153a.js";import{g as E}from"./base64-ae67ffac.js";import{_ as ue}from"./_plugin-vue_export-helper-c27b6911.js";let P,me=Promise.all([(()=>{try{return pe}catch{}})()]).then(async()=>{const R=c=>(re("data-v-e0e45c2a"),c=c(),ce(),c),S={class:"login-div"},A={class:"login-div-form"},B={style:{display:"flex","justify-content":"space-between"}},G={style:{padding:"20px 30px"}},M={style:{display:"flex"}},T=["src"],j={style:{"text-align":"center","margin-bottom":"20px"}},q=R(()=>a("div",{style:{"padding-top":"20px","padding-bottom":"20px"}},[a("strong",{style:{"padding-top":"5px"}},"Benefits include:"),a("ul",null,[a("li",{style:{"padding-top":"5px","padding-left":"20px"}},"Promotional offers"),a("li",{style:{"padding-top":"5px","padding-left":"20px"}},"Creation of marketing communications such as catalogs and flyers "),a("li",{style:{"padding-top":"5px","padding-left":"20px"}},"Easy order tracking"),a("li",{style:{"padding-top":"5px","padding-left":"20px"}},"Order history"),a("li",{style:{"padding-top":"5px","padding-left":"20px"}},"Quote request and sample history")])],-1)),D={style:{"text-align":"center","margin-bottom":"20px"}},b=60*24*60*60,L=X({__name:"index",setup(c){x();const p=x(!1),e=Y({userName:"",password:"",captchaCode:"",isCaptcha:!0,captchaUuid:"",loginDevice:1,remember:null}),g=Z();V(()=>g==null?void 0:g.getWebsiteTitle);const Q=$(),f=se(),w=ne(),W=async()=>{var t;if(e.userName&&e.userName!=null&&e.password&&e.password!=null&&e.captchaCode&&e.captchaCode!=null){p.value=!0;try{const{code:s,message:m}=await Q.login(e);if(p.value=!0,s==200){const o=decodeURIComponent(((t=w.query)==null?void 0:t.redirect)||"/");F(),k.success("Sign in successful"),O(),w.name===I.SIGN_IN_NAME?f.replace("/account"):f.replace(o)}else s&&s===30001&&(e.captchaCode="")}finally{u(),p.value=!1}}else k.error("The Username, Password, and Verification Code cannot be empty!")};V(()=>!(e.userName&&e.password&&e.captchaCode));const J=()=>{let t=n.get(h,"");t&&(e.userName=t,e.password=E.decode(n.get(_,"")),e.remember=!0)},O=()=>{if(e.remember){let t=E.encode(e.password);n.set(_,t,b),n.set(h,e.userName,b)}else n.remove(h),n.remove(_)},C=x("");async function u(){try{let t=await ie();C.value=t.captchaBase64Image,e.captchaUuid=t.captchaUuid,z(t.expireSeconds)}catch(t){console.log(t)}}let i=null;function z(t){i===null&&(i=setInterval(u,(t-5)*1e3))}function F(){i!=null&&(clearInterval(i),i=null)}ee(()=>{u(),J()});const H=()=>{open.value=!1,f.push({name:I.REGISTER_PAGE_NAME})};return(t,s)=>{const m=v("v-divider"),o=v("v-text-field"),N=v("v-btn"),y=v("v-card"),K=oe("loading");return ae((te(),le("div",S,[a("div",A,[l(y,{variant:"text",class:"mx-auto",elevation:"8",color:"surface-variant"},{default:r(()=>[a("div",B,[l(y,{variant:"text",width:"55%",title:"Login"},{default:r(()=>[l(m,{thickness:2}),a("div",G,[a("form",{onSubmit:de(W,["prevent"])},[l(o,{modelValue:e.userName,"onUpdate:modelValue":s[0]||(s[0]=d=>e.userName=d),density:"compact",variant:"outlined","prepend-inner-icon":"mdi-at",label:"User Name"},null,8,["modelValue"]),l(o,{modelValue:e.password,"onUpdate:modelValue":s[1]||(s[1]=d=>e.password=d),"prepend-inner-icon":"mdi-lock",density:"compact",variant:"outlined",label:"Password",type:"password"},null,8,["modelValue"]),a("div",M,[l(o,{modelValue:e.captchaCode,"onUpdate:modelValue":s[2]||(s[2]=d=>e.captchaCode=d),"prepend-inner-icon":"mdi-alphabetical",density:"compact",variant:"outlined",label:"Verification Code"},null,8,["modelValue"]),a("img",{class:"captcha-img",src:C.value,onClick:u},null,8,T)]),a("div",j,[l(N,{class:"me-4",color:"primary",variant:"elevated",type:"submit"},{default:r(()=>[U(" Login ")]),_:1})])],32)])]),_:1}),a("div",null,[l(m,{thickness:2,vertical:""})]),l(y,{variant:"text",width:"40%",title:"Why Register?"},{default:r(()=>[l(m,{thickness:2}),q,a("div",D,[l(N,{class:"me-4",color:"primary",variant:"elevated",onClick:H},{default:r(()=>[U(" Register ")]),_:1})])]),_:1})])]),_:1})])])),[[K,p.value,void 0,{fullscreen:!0,lock:!0}]])}}});P=ue(L,[["__scopeId","data-v-e0e45c2a"]])});export{me as __tla,P as default};
