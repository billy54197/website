import{d as Se,r as _,o as Le,u as Pe,q as O,P as G,s as J,b,c as q,k as n,t as C,i as S,v as K,e as o,w as r,h as U,x as Ae,E as H,f as p,F as W,g as R,p as De,j as Qe,__tla as Ue}from"./index-8cd0153a.js";import{p as He,__tla as Ee}from"./product-api-2bae6935.js";import{_ as L,__tla as Fe}from"./index-9937b50a.js";import{g as Ye,__tla as Me}from"./prd-color-api-61448a5f.js";import{a as Oe,c as Je,u as ze,__tla as je}from"./cart-api-e9efe65c.js";import{_ as Be}from"./_plugin-vue_export-helper-c27b6911.js";let $,Ge=Promise.all([(()=>{try{return Ue}catch{}})(),(()=>{try{return Ee}catch{}})(),(()=>{try{return Fe}catch{}})(),(()=>{try{return Me}catch{}})(),(()=>{try{return je}catch{}})()]).then(async()=>{const g=P=>(De("data-v-121e761c"),P=P(),Qe(),P),X={style:{width:"900px",margin:"10px auto"}},Z={style:{width:"100%","text-align":"center"}},ee={class:"cart-form"},te={class:"cart-form-product"},ae={class:"cart-form-product-row"},le=g(()=>n("div",{class:"cart-form-product-row-col-label"},[n("strong",null,"Product:")],-1)),oe={class:"cart-form-product-row-col-text"},re={key:0,style:{color:"#909399"}},ue={class:"cart-form-product-row"},ie=g(()=>n("div",{class:"cart-form-product-row-col-label"},[n("strong",null,"Item:")],-1)),ne={class:"cart-form-product-row-col-text"},de={key:0,style:{color:"#909399"}},se={class:""},me={class:"cart-form-info"},ce=g(()=>n("p",null," Please fill in the following information to place your order for this item.\xA0 Required fields are marked with an asterisk.\xA0 If you have any questions or special instructions, please let us know in the notes area at the bottom of the page.\xA0 Please remember to checkout after you are finished adding items to your cart. ",-1)),pe=g(()=>n("h3",null,"Product Information",-1)),he=g(()=>n("p",null,"Please provide us with the following information.\xA0 Average production time is shown on the product screen, but may vary depending on item, season, and other factors.",-1)),ve=g(()=>n("h3",null,"Imprint Information: ",-1)),fe=g(()=>n("p",null,"We have the ability to place a text imprint and/or logo on your promotional products.\xA0 If you want text on this item, please specify the exact text as well as the fonts, colors, sizes, and layout.\xA0 If you would like to use a logo, you should describe the logo and attach the logo file.\xA0 If you only have a paper copy of the logo, specify that below and we'll contact you to make arrangements to receive the art.\xA0 Most items have imprint size restrictions.\xA0 We will contact you if we need to make adjustments to your text or artwork.\xA0 A one-color imprint is usually included in the price of the item.\xA0 If there will be additional charges (extra colors, setup for art, etc.), we will notify you of those charges.",-1)),ye=g(()=>n("p",{class:"notes-text-imprint-layout"},'Please indicate the text alignment in parentheses after each line, e.g. "This is line 1 (centered)"',-1)),ge=g(()=>n("p",null,' To finish adding this item to your cart, click "Add to your cart" below.\xA0 If you have attached artwork, it may take a few minutes to save while your file is transferred to us.\xA0 Please be patient and do not click "Add to your cart" more than once.\xA0 After you are finished adding items to your cart, remember to checkout. ',-1)),Ie={style:{"margin-bottom":"30px","text-align":"right"}},_e=Se({__name:"cart-form",setup(P){Ae(l=>({"6a203c81":l.innerHeight}));const a=_({guid:null,userId:"",productId:"",productName:"",productNumber:"",productImage:null,quantity:null,productColor:null,dateNeededInHand:null,textImprintLayout:"",textImprintColor:"",textImprintStyle:"",logoImprintDescription:"",logoImprintColor:"",logoArtFile:"",notes:""}),be=_({quantity:[{required:!0,message:"Please input quantity",trigger:"blur"}],dateNeededInHand:[{required:!0,message:"Please select date needed in hand",trigger:"blur"}]}),E=_(),we=async()=>{await E.value.validate(async l=>{if(l){let t=await Je(a.value);t.ok?(H.success("Successfully submitted."),M()):H.error(t)}else console.log("error submit!")})},xe=async()=>{await E.value.validate(async l=>{if(l){let t=await ze(a.value);t.ok?(H.success("Successfully submitted."),M()):H.error(t)}else console.log("error submit!")})},z=_([]),F=_();Le(async()=>{const l=L.parseUrl(window.location.href);l&&l.hashQuery&&l.hashQuery.productId&&l.hashQuery.productId.trim()!=""&&await Ne(l.hashQuery.productId),l&&l.hashQuery&&l.hashQuery.guid&&l.hashQuery.guid.trim()!=""&&l.hashQuery.productId&&l.hashQuery.productId.trim()!=""?(await Ve(l.hashQuery.guid),F.value="Modify Item in Your Cart"):F.value="Add Item to Cart",z.value=await Ye()});const e=_({}),h=Pe();async function Ne(l){var t,m,c,u,d,s,v,f;return((t=h==null?void 0:h.info)==null?void 0:t.userId)!=null&&((m=h==null?void 0:h.info)==null?void 0:m.userId)!=""?(a.value.productId=l,e.value=await He(l),a.value.productName=(c=e.value)==null?void 0:c.productName,a.value.productNumber=(u=e.value)==null?void 0:u.productNumber,(d=e.value)!=null&&d.imageList&&((s=e.value)==null?void 0:s.imageList.length)>0&&(a.value.productImage=(f=L.min((v=e.value)==null?void 0:v.imageList,I=>I.imageName))==null?void 0:f.imageKeyThumb),!0):(O.push({name:G.SIGN_IN_PATH}),!1)}const A=_({});async function Ve(l){var t,m,c,u,d,s,v,f,I,w,T,y,D,N;if(((t=h==null?void 0:h.info)==null?void 0:t.userId)!=null&&((m=h==null?void 0:h.info)==null?void 0:m.userId)!=""){a.value.guid=l;let V=await Oe(l);if(V.ok){A.value=JSON.parse(JSON.stringify(V.data)),a.value=JSON.parse(JSON.stringify(V.data)),(c=e.value)!=null&&c.productName&&((u=a.value)==null?void 0:u.productName)!=((d=e.value)==null?void 0:d.productName)&&(a.value.productName=(s=e.value)==null?void 0:s.productName),(v=e.value)!=null&&v.productNumber&&((f=a.value)==null?void 0:f.productNumber)!=((I=e.value)==null?void 0:I.productNumber)&&(a.value.productNumber=(w=e.value)==null?void 0:w.productNumber);let x=null;return(T=e.value)!=null&&T.imageList&&((y=e.value)==null?void 0:y.imageList.length)>0&&(x=(N=L.min((D=e.value)==null?void 0:D.imageList,Q=>Q.imageName))==null?void 0:N.imageKeyThumb),x&&a.value.productImage!=x&&(a.value.productImage=x),!0}else return!1}else return O.push({name:G.SIGN_IN_PATH}),!1}const j=l=>a.value.guid&&a.value.guid!=""&&e.value[l]!=A.value[l],Y=_([]),k=_(0),ke=J(()=>{var m,c;let l=[{quantity:"Price:"}];k.value=0,Y.value=[{label:"Quantity:",prop:"quantity"}];let t=(c=(m=e==null?void 0:e.value)==null?void 0:m.pricingList)==null?void 0:c.map(u=>(u.quantity=parseInt(u.quantity),u));return L.orderBy(t,[["quantity","asc"]]).forEach(u=>{u.priceType=="prices"&&u.quantity&&u.quantity!=""&&u.listPrice&&u.listPrice!=""&&(Y.value.push({label:u.quantity.toString(),prop:u.quantity.toString()}),l[0][u.quantity]="$"+u.netCost,k.value==0&&(k.value=u.quantity))}),l}),Te=l=>{let t=new Date;return t.setDate(t.getDate()+7*qe.value),l<t},qe=J(()=>{var m,c,u,d,s,v,f,I;let l=0,t=[];return(m=e==null?void 0:e.value)!=null&&m.rushTimeStart&&((c=e==null?void 0:e.value)==null?void 0:c.rushTimeStart.trim())!=""&&t.push(parseInt(e.value.rushTimeStart)),(u=e==null?void 0:e.value)!=null&&u.rushTimeEnd&&((d=e==null?void 0:e.value)==null?void 0:d.rushTimeEnd.trim())!=""&&t.push(parseInt(e.value.rushTimeEnd)),(s=e==null?void 0:e.value)!=null&&s.productionTimeStart&&((v=e==null?void 0:e.value)==null?void 0:v.productionTimeStart.trim())!=""&&t.push(parseInt(e.value.productionTimeStart)),(f=e==null?void 0:e.value)!=null&&f.productionTimeEnd&&((I=e==null?void 0:e.value)==null?void 0:I.productionTimeEnd.trim())!=""&&t.push(parseInt(e.value.productionTimeEnd)),t.length>0&&(l=L.min(t)),l}),Ce=J(()=>{var t,m;let l=[];return(m=(t=e==null?void 0:e.value)==null?void 0:t.itemList)==null||m.forEach(c=>{if(c.itemType=="product_color"){let u=z.value.find(d=>d.id==c.itemValue);u&&l.push({label:u.displayName,value:u.displayName})}}),l});function M(){O.go(-1)}return(l,t)=>{var V,x,Q,B;const m=p("el-table-column"),c=p("el-table"),u=p("el-input-number"),d=p("el-form-item"),s=p("el-col"),v=p("el-option"),f=p("el-select"),I=p("el-date-picker"),w=p("el-row"),T=p("el-card"),y=p("el-input"),D=p("el-form"),N=p("el-button");return b(),q("div",X,[n("div",Z,[n("h2",null,C(F.value),1)]),n("div",ee,[n("div",te,[n("div",ae,[le,n("div",oe,[S(C((V=e.value)==null?void 0:V.productName)+" ",1),j("productName")?(b(),q("span",re,"("+C((x=A.value)==null?void 0:x.productName)+")",1)):K("",!0)])]),n("div",ue,[ie,n("div",ne,[S(C((Q=e.value)==null?void 0:Q.productNumber)+" ",1),j("productNumber")?(b(),q("span",de,"("+C((B=A.value)==null?void 0:B.productNumber)+")",1)):K("",!0)])])]),n("div",se,[o(c,{data:ke.value,border:"",stripe:""},{default:r(()=>[(b(!0),q(W,null,R(Y.value,i=>(b(),U(m,{prop:i.prop,label:i.label},null,8,["prop","label"]))),256))]),_:1},8,["data"])]),n("div",me,[ce,o(D,{model:a.value,ref_key:"refForm",ref:E,"label-position":"top",rules:be.value},{default:r(()=>[o(T,{class:"cart-form-info-card"},{default:r(()=>[pe,he,o(w,{gutter:20},{default:r(()=>[o(s,{span:8},{default:r(()=>[o(d,{prop:"quantity",label:"Quantity:"},{default:r(()=>[o(u,{modelValue:a.value.quantity,"onUpdate:modelValue":t[0]||(t[0]=i=>a.value.quantity=i),style:{width:"100%"},placeholder:"Quantity(Minimum of "+k.value+")",min:k.value,"controls-position":"right"},null,8,["modelValue","placeholder","min"])]),_:1})]),_:1}),o(s,{span:8},{default:r(()=>[o(d,{label:"Product Color:"},{default:r(()=>[o(f,{modelValue:a.value.productColor,"onUpdate:modelValue":t[1]||(t[1]=i=>a.value.productColor=i),style:{width:"100%"},clearable:"",filterable:"",placeholder:"Product Color"},{default:r(()=>[(b(!0),q(W,null,R(Ce.value,i=>(b(),U(v,{key:i.value,label:i.label,value:i.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(s,{span:8},{default:r(()=>[o(d,{prop:"dateNeededInHand",label:"Date Needed In Hand:"},{default:r(()=>[o(I,{modelValue:a.value.dateNeededInHand,"onUpdate:modelValue":t[2]||(t[2]=i=>a.value.dateNeededInHand=i),style:{width:"100%"},"disabled-date":Te,"value-format":"YYYY-MM-DD HH:mm:ss",type:"date",placeholder:"Date Needed In Hand"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(T,{class:"cart-form-info-card"},{default:r(()=>[ve,fe,o(d,{label:"Text Imprint and Layout:"},{default:r(()=>[o(y,{modelValue:a.value.textImprintLayout,"onUpdate:modelValue":t[3]||(t[3]=i=>a.value.textImprintLayout=i),rows:4,type:"textarea",maxlength:"2000","show-word-limit":"",placeholder:"Text Imprint and Layout"},null,8,["modelValue"])]),_:1}),ye,o(w,{gutter:20},{default:r(()=>[o(s,{span:12},{default:r(()=>[o(d,{label:"Text Imprint Color:"},{default:r(()=>[o(y,{modelValue:a.value.textImprintColor,"onUpdate:modelValue":t[4]||(t[4]=i=>a.value.textImprintColor=i),maxlength:"100","show-word-limit":"",placeholder:"Text Imprint Color(s)"},null,8,["modelValue"])]),_:1})]),_:1}),o(s,{span:12},{default:r(()=>[o(d,{label:"Text Imprint Style:"},{default:r(()=>[o(y,{modelValue:a.value.textImprintStyle,"onUpdate:modelValue":t[5]||(t[5]=i=>a.value.textImprintStyle=i),maxlength:"100","show-word-limit":"",placeholder:"Text Imprint Size,Font,and Other Info"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(w,{gutter:20},{default:r(()=>[o(s,{span:12},{default:r(()=>[o(d,{label:"Logo Imprint Description:"},{default:r(()=>[o(y,{maxlength:"100","show-word-limit":"",modelValue:a.value.logoImprintDescription,"onUpdate:modelValue":t[6]||(t[6]=i=>a.value.logoImprintDescription=i),placeholder:"Logo Imprint Description"},null,8,["modelValue"])]),_:1})]),_:1}),o(s,{span:12},{default:r(()=>[o(d,{label:"Logo Imprint Color:"},{default:r(()=>[o(y,{maxlength:"100","show-word-limit":"",modelValue:a.value.logoImprintColor,"onUpdate:modelValue":t[7]||(t[7]=i=>a.value.logoImprintColor=i),placeholder:"Logo Imprint Color(s)"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(w,{gutter:20},{default:r(()=>[o(s,{span:12},{default:r(()=>[o(d,{label:"Attach Logo Art File:"},{default:r(()=>[o(y,{modelValue:a.value.logoArtFile,"onUpdate:modelValue":t[8]||(t[8]=i=>a.value.logoArtFile=i),placeholder:"Attach Logo Art File"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(d,{label:"Notes:"},{default:r(()=>[o(y,{modelValue:a.value.notes,"onUpdate:modelValue":t[9]||(t[9]=i=>a.value.notes=i),rows:4,maxlength:"2000","show-word-limit":"",type:"textarea",placeholder:"Notes"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"]),ge])]),n("div",Ie,[o(N,{onClick:M},{default:r(()=>[S("Back")]),_:1}),a.value.guid&&a.value.guid.trim()!=""?(b(),U(N,{key:0,type:"warning",onClick:xe},{default:r(()=>[S(" Update your cart ")]),_:1})):(b(),U(N,{key:1,type:"primary",onClick:we},{default:r(()=>[S(" Add to your cart ")]),_:1}))])])}}});$=Be(_e,[["__scopeId","data-v-121e761c"]])});export{Ge as __tla,$ as default};
