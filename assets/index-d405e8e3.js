import{q as X,s as Z,b as tt,__tla as et}from"./cart-api-cf455e45.js";import{_ as g,__tla as lt}from"./index-3ecbe1e1.js";import{d as at,r as x,o as ot,s as it,b as nt,c as rt,k as n,e,w as a,l as st,P as k,f as p,t as h,i as u,m as I,G as pt,p as ct,j as ut,n as N,E as c,__tla as dt}from"./index-d2e32ea4.js";import{g as mt}from"./base64-ae67ffac.js";import{_ as gt}from"./_plugin-vue_export-helper-c27b6911.js";let P,ht=Promise.all([(()=>{try{return et}catch{}})(),(()=>{try{return lt}catch{}})(),(()=>{try{return dt}catch{}})()]).then(async()=>{const R=d=>(ct("data-v-c7379faa"),d=d(),ut(),d),T=R(()=>n("div",{class:"cart-header"},[n("h1",null,"Cart Summary"),n("p",null,"Following is a list of the items currently in your cart.\xA0 Remember that you must click checkout at the bottom of this page when you are finished selecting products.")],-1)),S={class:"cart-list"},L=["innerHTML"],M={style:{display:"inline-flex","margin-left":"calc(100% - 440px)","line-height":"60px"}},q={style:{"margin-left":"12px",width:"150px"}},E={style:{"font-weight":"bolder",color:"#e2231a"}},U={style:{"margin-left":"12px",width:"160px"}},j={style:{"font-weight":"bolder",color:"#e2231a"}},z={style:{"margin-left":"20px"}},A={style:{"text-align":"right",margin:"20px auto"}},D=at({__name:"index",setup(d){const _=st(),w=x([]);ot(async()=>{await y()});const O=t=>{_.push({name:k.MY_CARTS_FORM_NAME,query:{guid:t.guid,productId:t.productId}})},B=t=>{N.confirm("You will remove the product("+t.productNumber+"). Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const l=await Z(t.guid);l.ok?c({type:"success",message:"Remove completed"}):c({type:"error",message:l.message}),await y()}).catch(()=>{c({type:"info",message:"Remove canceled"})})},Y=()=>{if(i.value.length>0){const t=g.pluck(i.value,"guid");N.confirm("You will remove the selected products. Continue?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(async()=>{const l=await tt(t);l.ok?c({type:"success",message:"Remove completed"}):c({type:"error",message:l.message}),await y()}).catch(()=>{c({type:"info",message:"Remove canceled"})})}},$=()=>{if(i.value.length>0){const t=g.pluck(i.value,"guid");_.push({name:k.MY_CARTS_CHECKOUT_NAME,query:{ids:mt.encode(t.join("|"))}})}},y=async()=>{w.value=await X()},b=x(),i=x([]),H=t=>{i.value=t},K=t=>{i.value.find(l=>l.guid==t.guid)?i.value=i.value.filter(l=>l.guid!=t.guid):i.value.push(t),b.value.toggleRowSelection(t)},F=t=>{let l=[];l.push(`<p style="font-size: 20px;
    font-weight: 400;
    line-height: 22px;
    margin-top: 5px;
    margin-bottom: 0px;
    color: #000;">`+t.productName+"</p>"),l.push('<p style="font-size: 14px; margin-block-start: 5px; color: #464646;"><span style="font-weight: bolder;">Item #: </span>'+t.productNumber+"</p>"),t.productColor&&t.productColor!=""&&l.push(`<p style="color: #000;
    font-size: 14px;margin-block-start: 3px; margin-block-end:  3px;"><span style="font-weight: bolder;">Details: </span>`+t.productColor+"</p>");let o=[];t.textImprintLayout&&t.textImprintLayout!=""&&o.push(t.textImprintLayout),t.textImprintColor&&t.textImprintColor!=""&&o.push("("+t.textImprintColor+")"),t.textImprintStyle&&t.textImprintStyle!=""&&o.push("("+t.textImprintStyle+")"),o.length>0&&l.push(`<p style="color: #000;
    font-size: 14px;margin-block-start: 3px; margin-block-end: 3px;"><span style="font-weight: bolder;">Imprint: </span>`+o.join("")+"</p>");let s=[];return t.logoImprintDescription&&t.logoImprintDescription!=""&&s.push(t.logoImprintDescription),t.logoImprintColor&&t.logoImprintColor!=""&&s.push("("+t.logoImprintColor+")"),s.length>0&&l.push(`<p style="color: #000;
    font-size: 14px;margin-block-start: 3px; margin-block-end: 3px;"><span style="font-weight: bolder;">Logo: </span> `+s.join("")+"</p>"),l.join("")},W=it(()=>`$${i.value.reduce((t,l)=>{const o=Number(l.productUnitPrice),s=Number(l.quantity);return!Number.isNaN(o)&&!Number.isNaN(s)?t+g.multiply(o,s):t},0)}`);return(t,l)=>{const o=p("el-table-column"),s=p("el-image"),v=p("el-col"),G=p("el-row"),Q=p("Edit"),f=p("el-icon"),m=p("el-button"),C=p("Delete"),J=p("el-table");return nt(),rt("div",null,[T,n("div",S,[e(J,{data:w.value,ref_key:"refCartList",ref:b,style:{width:"100%"},stripe:"",onRowClick:K,onSelectionChange:H},{append:a(()=>[n("div",M,[n("div",q,[n("span",E,h(i.value.length),1),u(" items selected ")]),n("div",U,[u(" Total: "),n("span",j,h(W.value),1)]),n("div",z,[e(m,{type:"danger",circle:"",disabled:i.value.length==0,onClick:Y},{default:a(()=>[e(f,null,{default:a(()=>[e(C)]),_:1})]),_:1},8,["disabled"])])])]),default:a(()=>[e(o,{type:"selection",width:"30"}),e(o,{label:"Product"},{default:a(r=>[e(G,{gutter:15},{default:a(()=>[e(v,{style:{width:"100px","max-width":"100px",display:"inline-flex"}},{default:a(()=>[e(s,{style:{width:"100px",height:"120px",margin:"auto"},src:I(pt)(r.row.productImage),fit:"contain"},null,8,["src"])]),_:2},1024),e(v,{style:{width:"calc(100% - 110px)","max-width":"calc(100% - 110px)"}},{default:a(()=>[n("div",{innerHTML:F(r.row)},null,8,L)]),_:2},1024)]),_:2},1024)]),_:1}),e(o,{prop:"productUnitPrice",label:"Unit Price",width:"100"},{default:a(r=>[u(" $"+h(r.row.productUnitPrice),1)]),_:1}),e(o,{prop:"quantity",label:"Quantity",width:"100"}),e(o,{prop:"extPrice",label:"Ext. Price",width:"120"},{default:a(r=>[u(" $"+h(I(g).multiply(r.row.productUnitPrice,r.row.quantity)),1)]),_:1}),e(o,{label:"Operations",width:"110"},{default:a(r=>[e(m,{type:"primary",plain:"",circle:"",onClick:V=>O(r.row)},{default:a(()=>[e(f,null,{default:a(()=>[e(Q)]),_:1})]),_:2},1032,["onClick"]),e(m,{type:"danger",plain:"",circle:"",onClick:V=>B(r.row)},{default:a(()=>[e(f,null,{default:a(()=>[e(C)]),_:1})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n("div",A,[e(m,{type:"primary",disabled:i.value.length==0,onClick:$},{default:a(()=>[u("Checkout ")]),_:1},8,["disabled"])])])])}}});P=gt(D,[["__scopeId","data-v-c7379faa"]])});export{ht as __tla,P as default};
